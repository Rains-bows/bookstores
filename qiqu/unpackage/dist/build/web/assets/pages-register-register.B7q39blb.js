import{_ as e,a,x as s,y as l,D as o,d as t,w as r,i,o as m,e as d,f as n,k as c,I as f,A as u}from"./index-DfJFPZaM.js";import{r as p}from"./user.C6GM3hFr.js";import"./request.D0Ryayp7.js";const h=e({data:()=>({form:{username:"",password:"",confirmPassword:"",email:""}}),methods:{validate(){return this.form.username?this.form.username.length<4||this.form.username.length>20?(a({title:"用户名长度为4-20位",icon:"none"}),!1):this.form.password?/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,20}$/.test(this.form.password)?this.form.confirmPassword?this.form.password!==this.form.confirmPassword?(a({title:"两次输入的密码不一致",icon:"none"}),!1):this.form.email?!!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.form.email)||(a({title:"邮箱格式不正确",icon:"none"}),!1):(a({title:"请输入邮箱",icon:"none"}),!1):(a({title:"请确认密码",icon:"none"}),!1):(a({title:"密码必须包含字母和数字，长度为6-20位",icon:"none"}),!1):(a({title:"请输入密码",icon:"none"}),!1):(a({title:"请输入用户名",icon:"none"}),!1)},async handleSubmit(){if(this.validate())try{s({title:"注册中"});const e=await p({username:this.form.username,password:this.form.password,email:this.form.email});if(l(),1!==e.code)throw new Error(e.message||"注册失败");a({title:"注册成功",icon:"success"}),setTimeout((()=>{o()}),1500)}catch(e){l(),console.error("注册失败:",e),a({title:e.message||"注册失败",icon:"none"})}},goBack(){o()}}},[["render",function(e,a,s,l,o,p){const h=c,_=f,w=i,V=u;return m(),t(w,{class:"container"},{default:r((()=>[d(w,{class:"form"},{default:r((()=>[d(w,{class:"form-item"},{default:r((()=>[d(h,{class:"label"},{default:r((()=>[n("用户名")])),_:1}),d(_,{type:"text",modelValue:o.form.username,"onUpdate:modelValue":a[0]||(a[0]=e=>o.form.username=e),placeholder:"请输入用户名","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),d(w,{class:"form-item"},{default:r((()=>[d(h,{class:"label"},{default:r((()=>[n("密码")])),_:1}),d(_,{type:"password",modelValue:o.form.password,"onUpdate:modelValue":a[1]||(a[1]=e=>o.form.password=e),placeholder:"请输入密码","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),d(w,{class:"form-item"},{default:r((()=>[d(h,{class:"label"},{default:r((()=>[n("确认密码")])),_:1}),d(_,{type:"password",modelValue:o.form.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>o.form.confirmPassword=e),placeholder:"请再次输入密码","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),d(w,{class:"form-item"},{default:r((()=>[d(h,{class:"label"},{default:r((()=>[n("邮箱")])),_:1}),d(_,{type:"text",modelValue:o.form.email,"onUpdate:modelValue":a[3]||(a[3]=e=>o.form.email=e),placeholder:"请输入邮箱","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),d(w,{class:"tips"},{default:r((()=>[d(h,{class:"tip-item"},{default:r((()=>[n("用户名长度为4-20位")])),_:1}),d(h,{class:"tip-item"},{default:r((()=>[n("密码长度为6-20位")])),_:1}),d(h,{class:"tip-item"},{default:r((()=>[n("密码必须包含字母和数字")])),_:1})])),_:1})])),_:1}),d(w,{class:"actions"},{default:r((()=>[d(V,{class:"submit-btn",onClick:p.handleSubmit},{default:r((()=>[n("注册")])),_:1},8,["onClick"]),d(w,{class:"back-btn",onClick:p.goBack},{default:r((()=>[n("返回登录")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-ce7301e2"]]);export{h as default};
