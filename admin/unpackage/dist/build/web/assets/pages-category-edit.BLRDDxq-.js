import{k as a,v as e,b as t,w as s,i as l,o,d as i,e as n,j as d,I as c,C as r,p as m}from"./index-ClAhF9Bg.js";import{u}from"./category.Dg9eA-eh.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./request.QWExmb5c.js";const p=f({data:()=>({categoryId:null,formData:{name:"",description:"",isActive:1}}),onLoad(a){if(a.category){const e=JSON.parse(decodeURIComponent(a.category));this.categoryId=e.id,this.formData={name:e.name,description:e.description||"",isActive:1}}},methods:{async handleSubmit(){if(this.formData.name.trim())try{1===(await u(this.categoryId,this.formData)).code&&(a({title:"更新成功",icon:"success"}),setTimeout((()=>{e()}),1500))}catch(t){a({title:"更新失败",icon:"none"})}else a({title:"请输入分类名称",icon:"none"})}}},[["render",function(a,e,u,f,p,_){const h=l,b=d,g=c,y=r,D=m;return o(),t(h,{class:"container"},{default:s((()=>[i(h,{class:"tips-box"},{default:s((()=>[i(h,{class:"tips-title"},{default:s((()=>[n("注意事项：")])),_:1}),i(h,{class:"tips-content"},{default:s((()=>[i(b,null,{default:s((()=>[n("1. 分类名称请勿包含色情、暴力等违规内容")])),_:1}),i(b,null,{default:s((()=>[n('2. 建议使用"*"代替敏感词汇')])),_:1}),i(b,null,{default:s((()=>[n("3. 描述内容应当简洁明了，易于理解")])),_:1})])),_:1})])),_:1}),i(h,{class:"form"},{default:s((()=>[i(h,{class:"form-item"},{default:s((()=>[i(b,{class:"label"},{default:s((()=>[n("分类名称")])),_:1}),i(g,{type:"text",modelValue:p.formData.name,"onUpdate:modelValue":e[0]||(e[0]=a=>p.formData.name=a),placeholder:"请输入分类名称",class:"input"},null,8,["modelValue"])])),_:1}),i(h,{class:"form-item"},{default:s((()=>[i(b,{class:"label"},{default:s((()=>[n("分类描述")])),_:1}),i(y,{modelValue:p.formData.description,"onUpdate:modelValue":e[1]||(e[1]=a=>p.formData.description=a),placeholder:"请输入分类描述",class:"textarea",maxlength:"100"},null,8,["modelValue"])])),_:1}),i(D,{onClick:_.handleSubmit,class:"submit-btn"},{default:s((()=>[n("保存")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-0f04bdde"]]);export{p as default};
